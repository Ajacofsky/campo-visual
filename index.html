import streamlit as st
import cv2
import numpy as np

st.set_page_config(layout="wide", page_title="Peritaje Pro V20")
st.title("âš–ï¸ Analizador de Incapacidad - VisualizaciÃ³n Mejorada")

img_file = st.sidebar.file_uploader("1. Subir Campo Visual", type=['jpg', 'png', 'jpeg'])

if img_file:
    file_bytes = np.asarray(bytearray(img_file.read()), dtype=np.uint8)
    img_orig = cv2.imdecode(file_bytes, 1)
    h, w = img_orig.shape[:2]

    # --- CONTROLES ---
    st.sidebar.subheader("ğŸ¯ Posicionamiento")
    cx = st.sidebar.slider("Centro X", 0, w, w // 2)
    cy = st.sidebar.slider("Centro Y", 0, h, h // 2)
    px_cada_10 = st.sidebar.slider("TamaÃ±o Grilla (Pix/10Â°)", 10, 150, 55)
    
    st.sidebar
